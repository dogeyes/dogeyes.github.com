---
layout: post
title: "设计与实现"
description: ""
category: TPOP 
tags: [学习, TPOP]
---
{% include JB/setup %}

# 第3章 设计与实现

Brooks认为数据结构设计是程序构造过程的中心环节,一旦数据结构安排好了, 算法就像瓜熟蒂落,编码也比较容易

程序的设计当然可以通过语言来修饰,但是通常不会为语言所左右

## 3.1 马尔科夫链算法

## 3.2 数据结构的选择

## 3.3 在C中构造数据结构

memmove删除数组中间元素(应该是个类似覆盖的操作,比自己循环快)

## 3.4 生成输出

总应该设法处理数据中各种可能的非正常情况,意外情况和特殊情况.编出正确代码很不容易,因此应该尽量使控制流程简单和规范

代码确实写得不错

    void generate(int nwords)
    {
        State *sp;
        Suffix *suf;
        char *prefix[NPREF], *w;
		int i, nmatch;

		for(i = 0; i < NPREF; i++)
			prefix[i] = NONWORD;

		for(i = 0; i < nwords; i++)
		{
			sp = lookup(prefix, 0);
			nmatch = 0;
			for(suf = sp->suf; suf != NULL; suf = suf->next)
				if(rand()% ++nmatch == 0)
					w = suf->word;
			if(strcmp(w, NONWORD) == 0)
				break;
			printf("%s\n", w);
			memmove(prefix, prefix+1), (NPREF-1)*sizeof(prexif[0]);
			prefix[NPREF-1] = w;
		}
	}


将字符串存入一个散列表，用字符串在散列中的位置作为字符串的Key进行比较，可以比直接将字符串进行比较要快，并且节省空间。

## 3.5 Java

## 3.6 c++


## 3.7 Awk和Perl


awk中的关联数组的键支持字符串,数或者字符串和数由逗号分隔
   
    statetab[w1,w2,++nsuffix[w1,w2]] = $i
    
练习3-7 这样的修改比较困难,尤其是对语言细节不够了解的时候

## 3.8 性能

## 3.9 经验教训

马尔科夫程序,文献分析

一个程序的设计根源与它的数据的形式, 数据结构并没有定义所有的细节,但是他们确实规定了整个解的基本结构

选择简单算法和数据结构的重要性,应该选择那些能在合理时间内解决具有预期规模的问题的最简单的东西,如果有库,那么就调用库

最好是从数据结构开始,在关于可以使用哪些算法的知识的指导下进行详细设计,当数据结构安置好后,代码就比较容易组织

要想先把一个程序完全设计好,然后再构造它,是非常困难的.构造现实的程序总需要**重复**和**试验**

做产品代码要花费的精力比做原型多得多,产品质量要求我们付出的努力要比个人使用的程序高一两个数量级

练习3-8 通过不同的语言来实现马尔科夫程序,可以看到其特殊的挑战性和优越性

编写马尔科夫程序时发现,命名非常重要,尤其是在程序较长的时候,相对于高级语言C实在是太难写了,查错要非常谨慎,总而言之,程序欠写的多得多

Java由于数据结构已经实现的较好,直接使用语言本身的数据结构来的方便的多,思路也要简单很多,而c数据结构都要自己实现,使得注意力不能完全集中在问题本身,各种细节要考虑,命名太烂的话连名字都记不清楚了,还有结构体,没有补全到后来都不知道一个结构里面有那些要素,使得整体结构非常的混乱,程序在50行以上基本上搞不清楚哪个是哪个了,长期不写导致对语言细节也不甚了解,总之写的很慢就是了.现在最大的问题是代码写的实在是太少太少了,要抓紧时间写代码

Markov是一个不错的训练,考察的点蛮多的

