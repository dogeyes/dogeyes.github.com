---
layout: post
title: "linux command line"
description: ""
category: linux
tags: [linux,command]
---
{% include JB/setup %}

#第一部分linux命令行

##第一章初始Linux shell

###1.1 什么是Linux

1. linux内核
2. GNU工具逐渐
3. 图形化桌面环境
4. 应用软件

（擦类，图怎么办？手动画吗？）
***
linux系统图
***


内核的基本功能

1. 系统内存管理
2. 软件程序管理
3. 硬件设备管理
4. 文件系统管理

####系统内存管理

`物理内存`, `虚拟内存`

`交换空间(swap space)`, `页面(page)`,`换出(swapping out)`,`换入(swapping in)`

`/proc/meminfo`可以查看系统上虚拟内存当前状态

一般情况下每个进程都有独立的内存页面,但是也可以创建一些共享页面,多个进程可以在同一块公用内存区域进行读取和写入操作.内核负责维护和管理这块公共内存区域并控制每个进程访问共享区域.

`ipcs -m`  可以查看系统上当前的共享内存页面.

####软件程序管理

Linux操作系统中的程序是**进程**.

进程-1前台-2后台

内核创建第一个进程`init进程`来启动系统上所有其他进程.

内核启动,先加载init进程.内核启动其他任何进程,都会在虚拟内存中给新的进程分配一块专有的区域来存储进程用到的数据和代码.

有些linux发行版使用一个表来管理系统开机是要自动启动的进程.这个表一般在`/etc/inittab`.

有些在`/etc/init.d`目录中,将开机时启动或停止某个应用的脚本放在这个目录下,这些脚本通过`/etc/rcX.d`目录下的入口启动,这里的`X`代表运行级(run level).

Linux 操作系统的init系统采用了运行级.运行级决定了init进程运行`/etc/inittab`或`/etc/rcX.d`目录中定义好的某些特定类型的进程. Linux有5个运行级.

运行级1-单用户模式,基本系统进程启动,同时启动唯一一个控制台终端进程, 紧急文件系统维护.

运行级3-标准模式,大多数应用软件会启动.

运行级5-会运行X Window系统,允许用户通过图形化桌面窗口登陆系统.

可以通过调整运行级来控制整个系统的功能.通过将运行级从3调整到5,系统从基于控制台的系统变成图形化X Window系统.

`ps ax`命令查看当前Linux上的进程.

*进程号*(Process ID, PID), init的进程号是1,每个进程的进程号都唯一,(S睡眠,SW睡眠和等待,R运行),名字外的方括号表示进程被换出.


####硬件设备管理

驱动程序代码(driver code)

两种方法来插入设备驱动代码:

1. 编译进内核的设备驱动代码
2. 可插入内核的设备驱动模块

设备文件

1. 字符型设备文件,每次只能处理一个字符,大多数调制解调器和终端
2. 块设备文件, 每次能处理大块数据的设备,硬盘
3. 网络设备文件, 采用数据包发送和接受数据的设备,网卡和一个特殊的回环设备.回环设备可以使用通用网络编程协议同自己通信.

Linux为系统上的每个设备都创建一种特殊的文件,`节点`.与设备的通信都是通过设备节点完成的.每个节点有一个唯一的数值对,供Linxu内核标记它.数值对包括一个主设备号和一个次设备号.类似的设备被划分在同样的主设备号下.次设备号标识同一主设备号下的特殊设备.

`/dev`下是设备文件.文件的信息的第一列表明了设备类型,`b` 块设备, `c`字符设备.

####文件系统管理

<table>
	<tr>
		<td>ext3</td>
		<td>第三扩展文件系统,支持日志功能</td>
	</tr>
	<tr>
		<td>ext4</td>
		<td>第四扩展文件系统,支持高级日志功能</td>
	</tr>
	<tr>
		<td>iso9660</td>
		<td>ISO 9660文件系统(CD-ROM)</td>
	</tr>
	<tr>
		<td>minix</td>
		<td>minix文件系统</td>
	<tr>
	<tr>
		<td>msdos</td>
		<td>微软FAT16文件系统</td>
	</tr>
	<tr>
		<td>ntfs</td>
		<td>支持Microsoft NT文件系统</td>
	</tr>
</table>

Linux内核采用虚拟文件系统(Virtual File System, VFS)作为和每个文件系统交互的接口.这为linux内核同任何类型文件系统通信提供了一个标准接口,当每个文件系统被挂载和使用时,VFS将信息都缓存在内存中.


